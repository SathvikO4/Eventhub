{% extends "base.html" %}
{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<h1>Admin Dashboard</h1>
<div class="admin-actions">
    <a href="{{ url_for('add_event') }}" class="btn">Add New Event</a>
    <a href="{{ url_for('add_winner') }}" class="btn">Add New Winner</a>
</div>

<h2>Manage Events</h2>
<div class="event-list">
    {% for event in events %}
    <div class="admin-event-card">
        <img src="{{ url_for('static', filename='images/' + event.image) }}" alt="{{ event.title }}">
        <div class="admin-event-info">
            <h3>{{ event.title }}</h3>
            <p>{{ event.date }}</p>
            <p>{{ event.description }}</p>
            <a href="{{ url_for('delete_event', event_id=event.id) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this event?')">Delete</a>
        </div>
    </div>
    {% endfor %}
</div>

<h2>Manage Winners</h2>
<div class="winner-list">
    {% for winner in winners %}
    <div class="admin-winner-card">
        <img src="{{ url_for('static', filename='images/' + winner.image) }}" alt="{{ winner.winner }}">
        <div class="admin-winner-info">
            <h3>{{ winner.winner }}</h3>
            <p><strong>Event:</strong> {{ winner.event }}</p>
            <p><strong>Position:</strong> {{ winner.position }}</p>
            <p><strong>Department:</strong> {{ winner.department }}</p>
            <a href="{{ url_for('delete_winner', winner_id=winner.id) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this winner?')">Delete</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}